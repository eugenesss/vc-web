{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React, { Component } from \"react\";\nimport api from \"Api\";\nimport { useRouter } from 'next/router';\nimport Link from 'next/link';\n\nclass MegaTab extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"_HandleMake\", async index => {\n      await this.setState({\n        stage: index,\n        ModelLoading: true\n      });\n      let AllModelSource = [];\n\n      if (index == 0) {\n        const Model = await api.get(`http://159.65.14.175:3001/api/products/getModel`);\n        AllModelSource = await Model.data.fields;\n      } else {\n        let AllMakeSource = this.state.AllMakeSource[index];\n        AllModelSource = await this._RenderSpecificModelCategory(AllMakeSource.id);\n      }\n\n      await this.setState({\n        ModelLoading: false,\n        AllModelSource: AllModelSource\n      });\n    });\n\n    _defineProperty(this, \"_RenderMake\", () => {\n      return this.state.AllMakeSource.map((make, index) => {\n        const stage = this.state.stage;\n        let style = {\n          padding: '10px'\n        };\n\n        if (stage == index) {\n          style = {\n            borderBottom: '3px solid #F29D30',\n            color: '#F29D30',\n            padding: '10px'\n          };\n        }\n\n        return (// All BMW Honda ...\n          __jsx(\"div\", {\n            key: index,\n            style: style,\n            onClick: () => this._HandleMake(index)\n          }, make.name)\n        );\n      });\n    });\n\n    _defineProperty(this, \"_RenderModel\", () => {\n      return this.state.AllModelSource.map((model, index) => {\n        return (// <div key={index} className=\"col-3\">\n          // <Link key={index} href={`/model?model=${(model.id).replace(/ /g,\"-\")}`} as={`/model/${(model.id).replace(/ /g,\"-\")}`}> \n          // <Link key={index} href=\"/model/[id]\" as={`/model/${(model.name).replace(/ /g,\"-\")}`}>\n          __jsx(Link, {\n            key: index,\n            href: \"/model/[id]\",\n            as: `/model/${model.id.replace(/ /g, \"-\")}`\n          }, model.name) // </div> \n\n        );\n      });\n    });\n\n    this.state = {\n      stage: 0,\n      AllMakeSource: [{\n        name: 'All',\n        description: 'All model in the Venture Cars '\n      }],\n      AllModelSource: [],\n      ModelLoading: true\n    };\n  }\n\n  async componentDidMount() {\n    //component will mount with an empty state this.state... After mounting, we populate the state with data from AllMakeSource\n    let AllMakeSource = [...this.state.AllMakeSource];\n\n    try {\n      const Make = await api.get(`http://159.65.14.175:3001/api/products/getMake`);\n      const MakeSource = Make.data.fields;\n      const Model = await api.get(`http://159.65.14.175:3001/api/products/getModel`);\n      const ModelSource = Model.data.fields;\n      this.setState({\n        AllModelSource: ModelSource,\n        AllMakeSource: AllMakeSource.concat(MakeSource),\n        ModelLoading: false\n      });\n    } catch (e) {\n      this.setState({\n        AllModelSource: [],\n        AllMakeSource: [],\n        ModelLoading: false\n      });\n    }\n  } //onclick 0 show All Model, > 1 show SpecificMakeModel\n\n\n  async _RenderSpecificModelCategory(value) {\n    try {\n      const ModelSource = await api.get(`http://159.65.14.175:3001/api/categories/${value}/category`);\n      return ModelSource.data;\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  render() {\n    return __jsx(\"div\", null, __jsx(\"ul\", {\n      className: \"nav nav-tabs\"\n    }, this.state.AllMakeSource.length > 0 && this._RenderMake()), __jsx(\"div\", {\n      className: \"tab-content\"\n    }, !this.state.ModelLoading && __jsx(\"div\", null, this.state.AllModelSource.length > 0 && __jsx(\"div\", {\n      className: \"tab-pane row\"\n    }, this._RenderModel()), this.state.AllModelSource.length == 0 && __jsx(\"div\", {\n      className: \"tab-pane row\"\n    }, \"No Model Found\")), this.state.ModelLoading && __jsx(\"div\", null, \"Loading ....\")));\n  }\n\n}\n\nexport default MegaTab;","map":{"version":3,"sources":["C:/Users/OC Digital/Documents/Venture Cars/vc-web/components/Layout/MegaTab.js"],"names":["React","Component","api","useRouter","Link","MegaTab","constructor","props","index","setState","stage","ModelLoading","AllModelSource","Model","get","data","fields","AllMakeSource","state","_RenderSpecificModelCategory","id","map","make","style","padding","borderBottom","color","_HandleMake","name","model","replace","description","componentDidMount","Make","MakeSource","ModelSource","concat","e","value","console","log","render","length","_RenderMake","_RenderModel"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport api from \"Api\";\r\nimport { useRouter } from 'next/router';\r\nimport Link from 'next/link';\r\nclass MegaTab extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      stage: 0,\r\n      AllMakeSource : [{\r\n        name: 'All',\r\n        description : 'All model in the Venture Cars '\r\n      }],\r\n      AllModelSource: [],\r\n      ModelLoading : true\r\n    }\r\n  }\r\n  async componentDidMount() {\r\n    //component will mount with an empty state this.state... After mounting, we populate the state with data from AllMakeSource\r\n    let AllMakeSource = [...this.state.AllMakeSource]\r\n    try {\r\n      const Make = await api.get(`http://159.65.14.175:3001/api/products/getMake`);\r\n      const MakeSource = Make.data.fields\r\n      const Model = await api.get(`http://159.65.14.175:3001/api/products/getModel`);\r\n      const ModelSource = Model.data.fields\r\n      this.setState({AllModelSource: ModelSource, AllMakeSource: AllMakeSource.concat(MakeSource), ModelLoading: false})\r\n    } catch (e){\r\n      this.setState({AllModelSource: [], AllMakeSource: [], ModelLoading: false})\r\n    }\r\n  }\r\n\r\n  //onclick 0 show All Model, > 1 show SpecificMakeModel\r\n  _HandleMake = async (index) => {\r\n    await this.setState({stage: index, ModelLoading: true})\r\n    let AllModelSource = []\r\n    if(index == 0){\r\n      const Model = await api.get(`http://159.65.14.175:3001/api/products/getModel`);\r\n      AllModelSource = await Model.data.fields\r\n    } else {\r\n      let AllMakeSource = this.state.AllMakeSource[index]\r\n      AllModelSource = await this._RenderSpecificModelCategory(AllMakeSource.id)\r\n    }\r\n    await this.setState({ModelLoading: false, AllModelSource: AllModelSource})\r\n  }\r\n  async _RenderSpecificModelCategory(value) {\r\n    try {\r\n        const ModelSource = await api.get(`http://159.65.14.175:3001/api/categories/${value}/category`);\r\n        return ModelSource.data\r\n    } catch (e) {\r\n        console.log(e)\r\n    }\r\n  }\r\n\r\n  _RenderMake = () => {\r\n    return (\r\n      this.state.AllMakeSource.map((make, index) => {\r\n        const stage = this.state.stage\r\n        let style = {padding: '10px'}\r\n        if(stage == index){\r\n          style = {borderBottom: '3px solid #F29D30', color:'#F29D30',padding: '10px'}\r\n        }\r\n        return (\r\n          // All BMW Honda ...\r\n          <div key={index} style={style} onClick={() => this._HandleMake(index)}>\r\n              {make.name} \r\n          </div>\r\n        )\r\n      })\r\n    )\r\n  }\r\n\r\n  _RenderModel = () => {\r\n    return (  \r\n      this.state.AllModelSource.map((model, index) => {\r\n        return ( \r\n          // <div key={index} className=\"col-3\">\r\n              // <Link key={index} href={`/model?model=${(model.id).replace(/ /g,\"-\")}`} as={`/model/${(model.id).replace(/ /g,\"-\")}`}> \r\n              // <Link key={index} href=\"/model/[id]\" as={`/model/${(model.name).replace(/ /g,\"-\")}`}>\r\n              <Link key={index} href=\"/model/[id]\" as={`/model/${(model.id).replace(/ /g,\"-\")}`}> \r\n                {model.name}\r\n              </Link>\r\n             \r\n          // </div> \r\n        )\r\n      })\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return (  <div>\r\n      <ul className=\"nav nav-tabs\">  \r\n              {this.state.AllMakeSource.length > 0 &&\r\n                  this._RenderMake()\r\n              }\r\n      </ul> \r\n      <div className=\"tab-content\">       \r\n              {!this.state.ModelLoading &&\r\n                <div>\r\n                  {this.state.AllModelSource.length > 0 &&\r\n                    <div className=\"tab-pane row\">  \r\n                        {this._RenderModel()}\r\n                    </div>  \r\n                  }\r\n                  {this.state.AllModelSource.length == 0 &&\r\n                    <div className=\"tab-pane row\">\r\n                      No Model Found\r\n                    </div>     \r\n                  }\r\n                </div>\r\n              }\r\n              {this.state.ModelLoading &&\r\n                <div>\r\n                  Loading ....\r\n                </div>\r\n              }\r\n      </div>          \r\n  </div>) \r\n  }\r\n}\r\nexport default MegaTab;\r\n"]},"metadata":{},"sourceType":"module"}