{"version":3,"file":"static/webpack/static\\development\\pages\\_app.js.b8651d354490589be030.hot-update.js","sources":["webpack:///./redux/ducks/product/ProductActions.js","webpack:///./redux/ducks/product/ProductReducer.js","webpack:///./redux/ducks/product/ProductSaga.js"],"sourcesContent":["import * as types from \"./ProductTypes\";\r\n\r\n// Get data of selected model\r\nexport const getProductModelData = e => ({\r\n  type: types.GET_PRODUCT_MODEL_DATA,\r\n  payload: e\r\n})\r\n\r\nexport const getProductModelDataSuccess = e => ({\r\n  type: types.GET_PRODUCT_MODEL_DATA_SUCCESS,\r\n  payload: e\r\n})\r\n\r\nexport const getProductModelDataFailure = e => ({\r\n  type: types.GET_PRODUCT_MODEL_DATA_FAILURE,\r\n  payload: e\r\n})\r\n\r\n// Get grades of selected model\r\nexport const getProductGrades = e => ({\r\n  type: types.GET_PRODUCT_GRADES,\r\n  payload: e\r\n})\r\n\r\nexport const getProductGradesSuccess = e => ({\r\n  type: types.GET_PRODUCT_GRADES_SUCCESS,\r\n  payload: e\r\n})\r\n\r\nexport const getProductGradesFailure = e => ({\r\n  type: types.GET_PRODUCT_GRADES_FAILURE,\r\n  payload: e\r\n})\r\n\r\n// Update selected grade\r\nexport const selectedProductGrade = e => ({\r\n  type: types.SELECTED_PRODUCT_GRADE,\r\n  payload: e\r\n})\r\n\r\n// Get data of selected grade\r\nexport const getProductGradeData = e => ({\r\n  type: types.GET_PRODUCT_GRADE_DATA,\r\n  payload: e\r\n})\r\n\r\nexport const getProductGradeDataSuccess = e => ({\r\n  type: types.GET_PRODUCT_GRADE_DATA_SUCCESS,\r\n  payload: e\r\n})\r\n\r\nexport const getProductGradeDataFailure = e => ({\r\n  type: types.GET_PRODUCT_GRADE_DATA_FAILURE,\r\n  payload: e\r\n})\r\n\r\n// Update selected exterior\r\nexport const selectedProductExterior = e => ({\r\n  type: types.SELECTED_PRODUCT_EXTERIOR,\r\n  payload: e\r\n})\r\n\r\n// Update selected interior\r\nexport const selectedProductInterior = e => ({\r\n  type: types.SELECTED_PRODUCT_INTERIOR,\r\n  payload: e\r\n})\r\n\r\n// Update selected rims\r\nexport const selectedProductRims = e => ({\r\n  type: types.SELECTED_PRODUCT_RIMS,\r\n  payload: e\r\n})\r\n\r\n// Update selected accessories\r\nexport const selectedProductAccessories = e => ({\r\n  type: types.SELECTED_PRODUCT_ACCESSORIES,\r\n  payload: e\r\n})","import * as types from \"./ProductTypes\"\r\n\r\nconst INIT_STATE = {\r\n  productModel: {\r\n    id: null,\r\n    name: null,\r\n  },\r\n  productGrade: {\r\n    id: null,\r\n    name: null,\r\n    price: 0,\r\n    data: { }\r\n  },\r\n  productExterior: {\r\n    id: null,\r\n    name: null,\r\n    price: 0,\r\n    data: { }\r\n  },\r\n  productInterior: {\r\n    id: null,\r\n    name: null,\r\n    price: 0,\r\n    data: { }\r\n  },\r\n  productRims: {\r\n    id: null,\r\n    name: null,\r\n    price: 0,\r\n    data: { }\r\n  },\r\n  productAccessories: {\r\n    selectedIds: { },\r\n    data: { }\r\n  }\r\n}\r\n\r\nexport default (state = INIT_STATE, action) => {\r\n  // console.log(\"redux state= \", state)\r\n  switch(action.type){\r\n    case types.GET_PRODUCT_MODEL_DATA:\r\n      return {\r\n        ...state\r\n      }\r\n\r\n    case types.GET_PRODUCT_MODEL_DATA_SUCCESS:\r\n      const { data } = action.payload\r\n      return {\r\n        ...state,\r\n        productModel: {\r\n          id: data.id,\r\n          name: data.name\r\n        }\r\n      }\r\n\r\n    case types.GET_PRODUCT_MODEL_DATA_FAILURE:\r\n      return {\r\n        ...state\r\n      }\r\n\r\n    case types.GET_PRODUCT_GRADES:\r\n      return {\r\n        ...state\r\n      }\r\n    \r\n    case types.GET_PRODUCT_GRADES_SUCCESS:\r\n      return {\r\n        ...state,\r\n        productGrade: {\r\n          ...state.productGrade,\r\n          data: action.payload.data\r\n        }\r\n      }\r\n\r\n    case types.GET_PRODUCT_GRADES_FAILURE:\r\n      return {\r\n        ...state\r\n      }\r\n    \r\n    case types.SELECTED_PRODUCT_GRADE:\r\n      var id = action.payload\r\n      var { fields } = state.productGrade.data\r\n      var object = fields.find(element => element.id === id)\r\n\r\n      return {\r\n        ...state,\r\n        productGrade: {\r\n          ...state.productGrade,\r\n          id: object.id,\r\n          name: object.name,\r\n          price: object.selling_Price,\r\n        }\r\n      }\r\n\r\n    case types.GET_PRODUCT_GRADE_DATA:\r\n      return {\r\n        ...state\r\n      }\r\n\r\n    case types.GET_PRODUCT_GRADE_DATA_SUCCESS:\r\n      let accessoriesIdList = { }\r\n      const populateAccessoriesIds = action => {\r\n        action.payload.accessoriesData.data.fields.map(item => {\r\n          Object.values(item).map(key => {\r\n            key.map(item => {\r\n              accessoriesIdList[item.id] = false\r\n            })\r\n          })\r\n        })\r\n      }\r\n      populateAccessoriesIds(action)\r\n\r\n      return {\r\n        ...state,\r\n        productExterior: {\r\n          ...state.productExterior,\r\n          data: action.payload.exteriorData.data\r\n        },\r\n        productInterior: {\r\n          ...state.productInterior,\r\n          data: action.payload.interiorData.data\r\n        },\r\n        productRims: {\r\n          ...state.productInterior,\r\n          data: action.payload.interiorData.data\r\n        },\r\n        productAccessories: {\r\n          selectedIds: accessoriesIdList,\r\n          data: action.payload.accessoriesData.data\r\n        }\r\n      }\r\n\r\n    case types.GET_PRODUCT_GRADE_DATA_FAILURE:\r\n      return {\r\n        ...state\r\n      }\r\n\r\n    case types.SELECTED_PRODUCT_EXTERIOR:\r\n      var id = action.payload\r\n      var { objects } = state.productExterior.data.fields[\"Car Colors\"]\r\n      var object = objects.find(element => element.id === id)\r\n\r\n      return {\r\n        ...state,\r\n        productExterior: {\r\n          ...state.productExterior,\r\n          id: object.id,\r\n          name: object.name,\r\n          price: object.price\r\n        }\r\n      }\r\n\r\n    case types.SELECTED_PRODUCT_INTERIOR:\r\n      var id = action.payload\r\n      var { objects } = state.productInterior.data.fields[\"Seating Fabrics\"]\r\n      var object = objects.find(element => element.id === id)\r\n\r\n      return {\r\n        ...state,\r\n        productInterior: {\r\n          ...state.productInterior,\r\n          id: object.id,\r\n          name: object.name,\r\n          price: object.price\r\n        }\r\n      }\r\n\r\n    case types.SELECTED_PRODUCT_RIMS:\r\n      var id = action.payload\r\n      var { objects } = state.productInterior.data.fields[\"Rims\"]\r\n      var object = objects.find(element => element.id === id)\r\n\r\n      return {\r\n        ...state,\r\n        productRims: {\r\n          ...state.productRims,\r\n          id: object.id,\r\n          name: object.name,\r\n          price: object.price\r\n        }\r\n      }\r\n\r\n    case types.SELECTED_PRODUCT_ACCESSORIES:\r\n      const newValue = !state.productAccessories.selectedIds[action.payload]\r\n      return {\r\n        ...state,\r\n        productAccessories: {\r\n          ...state.productAccessories,\r\n          selectedIds: {\r\n            ...state.productAccessories.selectedIds,\r\n            [action.payload]: newValue\r\n          }\r\n        }\r\n      }\r\n\r\n    default:\r\n      return {...state}\r\n  }\r\n}","import { \r\n  all, \r\n  call, \r\n  fork, \r\n  put, \r\n  takeEvery,\r\n} from \"redux-saga/effects\"\r\n\r\nimport * as types from \"./ProductTypes\"\r\nimport * as actions from \"./ProductActions\"\r\nimport api from \"Api\"\r\n\r\n//=========================\r\n// REQUESTS\r\n//=========================\r\nconst getProductModelDataRequest = async(payload) => {\r\n  const data = await api.get(`/categories/${payload.payload}`)\r\n  return data\r\n}\r\n\r\nconst getProductGradesRequest = async(payload) => {\r\n  const data = await api.get(`/products/specificGrades/${payload.payload}`)\r\n  return data\r\n}\r\n\r\nconst getProductGradeDataRequest = async(payload) => {\r\n  const exteriorData = await api.get(`/products/specificVariantExterior/${payload.payload}`)\r\n  const interiorData = await api.get(`/products/specificVariantInterior/${payload.payload}`)\r\n  const accessoriesData = await api.get(`/products/specificGradeProductOption/${payload.payload}`)\r\n  const data = {\r\n    exteriorData: exteriorData,\r\n    interiorData: interiorData,\r\n    accessoriesData: accessoriesData\r\n  }\r\n  return data\r\n}\r\n\r\n//=========================\r\n// CALL(GENERATOR) ACTIONS\r\n//=========================\r\nfunction* getProductModelData(e) {\r\n  try {\r\n    const data = yield call(getProductModelDataRequest, e)\r\n    yield put(actions.getProductModelDataSuccess(data))\r\n  } catch (error) {\r\n    yield put(actions.getProductModelDataFailure(data))\r\n    console.log(\"Error!\")\r\n  }\r\n}\r\n\r\nfunction* getProductGrades(e) {\r\n  try {\r\n    const data = yield call(getProductGradesRequest, e)\r\n    yield put(actions.getProductGradesSuccess(data))\r\n  } catch (error) {\r\n    yield put(actions.getProductGradesFailure(data))\r\n    console.log(\"Error!\")\r\n  }\r\n}\r\n\r\nfunction* getProductGradeData(e) {\r\n  try {\r\n    const data = yield call(getProductGradeDataRequest, e)\r\n    yield put(actions.getProductGradeDataSuccess(data))\r\n  } catch (error) {\r\n    yield put(actions.getProductGradeDataFailure(data))\r\n    console.log(\"Error!\")\r\n  }\r\n}\r\n\r\n//=======================\r\n// WATCHER FUNCTIONS\r\n//=======================\r\nexport function* getProductModelDataWatcher() {\r\n  yield takeEvery(types.GET_PRODUCT_MODEL_DATA, getProductModelData)\r\n}\r\n\r\nexport function* getProductGradesWatcher() {\r\n  yield takeEvery(types.GET_PRODUCT_GRADES, getProductGrades)\r\n}\r\n\r\nexport function* getProductGradeDataWatcher() {\r\n  yield takeEvery(types.GET_PRODUCT_GRADE_DATA, getProductGradeData)\r\n}\r\n\r\n//=======================\r\n// FORK SAGAS TO STORE\r\n//=======================\r\nexport default function* productSaga() {\r\n  yield all([\r\n    fork(getProductModelDataWatcher),\r\n    fork(getProductGradesWatcher),\r\n    fork(getProductGradeDataWatcher),\r\n  ])\r\n}\r\n"],"mappings":"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","sourceRoot":""}