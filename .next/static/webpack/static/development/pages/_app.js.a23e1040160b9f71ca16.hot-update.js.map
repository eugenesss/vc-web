{"version":3,"file":"static/webpack/static\\development\\pages\\_app.js.a23e1040160b9f71ca16.hot-update.js","sources":["webpack:///./redux/ducks/product/ProductReducer.js"],"sourcesContent":["import * as types from \"./ProductTypes\"\r\n\r\nconst INIT_STATE = {\r\n  productModel: {\r\n    id: null,\r\n    name: null,\r\n  },\r\n  productGrade: {\r\n    id: null,\r\n    name: null,\r\n    price: 0,\r\n    data: { }\r\n  },\r\n  productExterior: {\r\n    id: null,\r\n    name: null,\r\n    price: 0,\r\n    data: { }\r\n  },\r\n  productInterior: {\r\n    id: null,\r\n    name: null,\r\n    price: 0,\r\n    data: { }\r\n  },\r\n  productRims: {\r\n    id: null,\r\n    name: null,\r\n    price: 0,\r\n    data: { }\r\n  },\r\n  productAccessories: {\r\n    selectedIds: { },\r\n    data: { }\r\n  }\r\n}\r\n\r\nexport default (state = INIT_STATE, action) => {\r\n  // console.log(\"redux state= \", state)\r\n  switch(action.type){\r\n    case types.GET_PRODUCT_MODEL_DATA:\r\n      return {\r\n        ...state\r\n      }\r\n\r\n    case types.GET_PRODUCT_MODEL_DATA_SUCCESS:\r\n      const { data } = action.payload\r\n      return {\r\n        ...state,\r\n        productModel: {\r\n          id: data.id,\r\n          name: data.name\r\n        }\r\n      }\r\n\r\n    case types.GET_PRODUCT_MODEL_DATA_FAILURE:\r\n      return {\r\n        ...state\r\n      }\r\n\r\n    case types.GET_PRODUCT_GRADES:\r\n      return {\r\n        ...state\r\n      }\r\n    \r\n    case types.GET_PRODUCT_GRADES_SUCCESS:\r\n      return {\r\n        ...state,\r\n        productGrade: {\r\n          ...state.productGrade,\r\n          data: action.payload.data\r\n        }\r\n      }\r\n\r\n    case types.GET_PRODUCT_GRADES_FAILURE:\r\n      return {\r\n        ...state\r\n      }\r\n    \r\n    case types.SELECTED_PRODUCT_GRADE:\r\n      var id = action.payload\r\n      var { fields } = state.productGrade.data\r\n      var object = fields.find(element => element.id === id)\r\n\r\n      return {\r\n        ...state,\r\n        productGrade: {\r\n          ...state.productGrade,\r\n          id: object.id,\r\n          name: object.name,\r\n          price: object.selling_Price,\r\n        }\r\n      }\r\n\r\n    case types.GET_PRODUCT_GRADE_DATA:\r\n      return {\r\n        ...state\r\n      }\r\n\r\n    case types.GET_PRODUCT_GRADE_DATA_SUCCESS:\r\n      let accessoriesIdList = { }\r\n      const populateAccessoriesIds = action => {\r\n        action.payload.accessoriesData.data.fields.map(item => {\r\n          Object.values(item).map(key => {\r\n            key.map(item => {\r\n              accessoriesIdList[item.id] = false\r\n            })\r\n          })\r\n        })\r\n      }\r\n      populateAccessoriesIds(action)\r\n\r\n      return {\r\n        ...state,\r\n        productExterior: {\r\n          ...state.productExterior,\r\n          data: action.payload.exteriorData.data\r\n        },\r\n        productInterior: {\r\n          ...state.productInterior,\r\n          data: action.payload.interiorData.data\r\n        },\r\n        productRims: {\r\n          ...state.productInterior,\r\n          data: action.payload.interiorData.data\r\n        },\r\n        productAccessories: {\r\n          selectedIds: accessoriesIdList,\r\n          data: action.payload.accessoriesData.data\r\n        }\r\n      }\r\n\r\n    case types.GET_PRODUCT_GRADE_DATA_FAILURE:\r\n      return {\r\n        ...state\r\n      }\r\n\r\n    case types.SELECTED_PRODUCT_EXTERIOR:\r\n      var id = action.payload\r\n      var { objects } = state.productExterior.data.fields[\"Car Colors\"]\r\n      var object = objects.find(element => element.id === id)\r\n\r\n      return {\r\n        ...state,\r\n        productExterior: {\r\n          ...state.productExterior,\r\n          id: object.id,\r\n          name: object.name,\r\n          price: object.price\r\n        }\r\n      }\r\n\r\n    case types.SELECTED_PRODUCT_INTERIOR:\r\n      var id = action.payload\r\n      var { objects } = state.productInterior.data.fields[\"Seating Fabrics\"]\r\n      var object = objects.find(element => element.id === id)\r\n\r\n      return {\r\n        ...state,\r\n        productInterior: {\r\n          ...state.productInterior,\r\n          id: object.id,\r\n          name: object.name,\r\n          price: object.price\r\n        }\r\n      }\r\n\r\n    case types.SELECTED_PRODUCT_RIMS:\r\n      var id = action.payload\r\n      var { objects } = state.productInterior.data.fields[\"Rims\"]\r\n      var object = objects.find(element => element.id === id)\r\n\r\n      return {\r\n        ...state,\r\n        productRims: {\r\n          ...state.productRims,\r\n          id: object.id,\r\n          name: object.name,\r\n          price: object.price\r\n        }\r\n      }\r\n\r\n    case types.SELECTED_PRODUCT_ACCESSORIES:\r\n      const newValue = !state.productAccessories.selectedIds[action.payload]\r\n      return {\r\n        ...state,\r\n        productAccessories: {\r\n          ...state.productAccessories,\r\n          selectedIds: {\r\n            ...state.productAccessories.selectedIds,\r\n            [action.payload]: newValue\r\n          }\r\n        }\r\n      }\r\n\r\n    default:\r\n      return {...state}\r\n  }\r\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AAFA;AA7BA;AAmCA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAEA;AAEA;AACA;AACA;AAFA;AAFA;AACA;AAOA;AACA;AACA;AAGA;AACA;AACA;AAGA;AACA;AAEA;AAEA;AAFA;AAFA;AACA;AAOA;AACA;AACA;AAGA;AACA;AADA;AAGA;AAAA;AAAA;AAEA;AAEA;AAEA;AACA;AACA;AAJA;AAFA;AACA;AASA;AACA;AACA;AAGA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAEA;AAEA;AAFA;AAIA;AAEA;AAFA;AAIA;AAEA;AAFA;AAIA;AACA;AACA;AAFA;AAdA;AACA;AAmBA;AACA;AACA;AAGA;AACA;AADA;AAGA;AAAA;AAAA;AAEA;AAEA;AAEA;AACA;AACA;AAJA;AAFA;AACA;AASA;AACA;AADA;AAGA;AAAA;AAAA;AAEA;AAEA;AAEA;AACA;AACA;AAJA;AAFA;AACA;AASA;AACA;AADA;AAGA;AAAA;AAAA;AAEA;AAEA;AAEA;AACA;AACA;AAJA;AAFA;AACA;AASA;AACA;AACA;AAEA;AAEA;AAFA;AAFA;AACA;AAUA;AACA;AA7JA;AA+JA;;;;A","sourceRoot":""}