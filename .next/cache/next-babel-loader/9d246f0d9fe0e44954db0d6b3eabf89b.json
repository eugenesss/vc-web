{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _Object$values from \"@babel/runtime-corejs2/core-js/object/values\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport * as types from \"./ProductTypes\";\nconst INIT_STATE = {\n  productModel: {\n    id: null,\n    name: null\n  },\n  productGrade: {\n    id: null,\n    name: null,\n    price: 0,\n    data: {}\n  },\n  productExterior: {\n    id: null,\n    name: null,\n    price: 0,\n    data: {}\n  },\n  productInterior: {\n    id: null,\n    name: null,\n    price: 0,\n    data: {}\n  },\n  productRims: {\n    id: null,\n    name: null,\n    price: 0,\n    data: {}\n  },\n  productAccessories: {\n    selectedIds: {},\n    data: {}\n  }\n};\nexport default ((state = INIT_STATE, action) => {\n  // console.log(\"redux state= \", state)\n  switch (action.type) {\n    case types.GET_PRODUCT_MODEL_DATA:\n      return _objectSpread({}, state);\n\n    case types.GET_PRODUCT_MODEL_DATA_SUCCESS:\n      const {\n        data\n      } = action.payload;\n      return _objectSpread({}, state, {\n        productModel: {\n          id: data.id,\n          name: data.name\n        }\n      });\n\n    case types.GET_PRODUCT_MODEL_DATA_FAILURE:\n      return _objectSpread({}, state);\n\n    case types.GET_PRODUCT_GRADES:\n      return _objectSpread({}, state);\n\n    case types.GET_PRODUCT_GRADES_SUCCESS:\n      return _objectSpread({}, state, {\n        productGrade: _objectSpread({}, state.productGrade, {\n          data: action.payload.data\n        })\n      });\n\n    case types.GET_PRODUCT_GRADES_FAILURE:\n      return _objectSpread({}, state);\n\n    case types.SELECTED_PRODUCT_GRADE:\n      var id = action.payload;\n      var {\n        fields\n      } = state.productGrade.data;\n      var object = fields.find(element => element.id === id);\n      return _objectSpread({}, state, {\n        productGrade: _objectSpread({}, state.productGrade, {\n          id: object.id,\n          name: object.name,\n          price: object.selling_Price\n        })\n      });\n\n    case types.GET_PRODUCT_GRADE_DATA:\n      return _objectSpread({}, state);\n\n    case types.GET_PRODUCT_GRADE_DATA_SUCCESS:\n      let accessoriesIdList = {};\n\n      const populateAccessoriesIds = action => {\n        action.payload.accessoriesData.data.fields.map(item => {\n          _Object$values(item).map(key => {\n            key.map(item => {\n              accessoriesIdList[item.id] = false;\n            });\n          });\n        });\n      };\n\n      populateAccessoriesIds(action);\n      return _objectSpread({}, state, {\n        productExterior: _objectSpread({}, state.productExterior, {\n          data: action.payload.exteriorData.data\n        }),\n        productInterior: _objectSpread({}, state.productInterior, {\n          data: action.payload.interiorData.data\n        }),\n        productRims: _objectSpread({}, state.productInterior, {\n          data: action.payload.interiorData.data\n        }),\n        productAccessories: {\n          selectedIds: accessoriesIdList,\n          data: action.payload.accessoriesData.data\n        }\n      });\n\n    case types.GET_PRODUCT_GRADE_DATA_FAILURE:\n      return _objectSpread({}, state);\n\n    case types.SELECTED_PRODUCT_EXTERIOR:\n      var id = action.payload;\n      var {\n        objects\n      } = state.productExterior.data.fields[\"Car Colors\"];\n      var object = objects.find(element => element.id === id);\n      return _objectSpread({}, state, {\n        productExterior: _objectSpread({}, state.productExterior, {\n          id: object.id,\n          name: object.name,\n          price: object.price\n        })\n      });\n\n    case types.SELECTED_PRODUCT_INTERIOR:\n      var id = action.payload;\n      var {\n        objects\n      } = state.productInterior.data.fields[\"Seating Fabrics\"];\n      var object = objects.find(element => element.id === id);\n      return _objectSpread({}, state, {\n        productInterior: _objectSpread({}, state.productInterior, {\n          id: object.id,\n          name: object.name,\n          price: object.price\n        })\n      });\n\n    case types.SELECTED_PRODUCT_RIMS:\n      var id = action.payload;\n      var {\n        objects\n      } = state.productInterior.data.fields[\"Rims\"];\n      var object = objects.find(element => element.id === id);\n      return _objectSpread({}, state, {\n        productRims: _objectSpread({}, state.productRims, {\n          id: object.id,\n          name: object.name,\n          price: object.price\n        })\n      });\n\n    case types.SELECTED_PRODUCT_ACCESSORIES:\n      const newValue = !state.productAccessories.selectedIds[action.payload];\n      return _objectSpread({}, state, {\n        productAccessories: _objectSpread({}, state.productAccessories, {\n          selectedIds: _objectSpread({}, state.productAccessories.selectedIds, {\n            [action.payload]: newValue\n          })\n        })\n      });\n\n    default:\n      return _objectSpread({}, state);\n  }\n});","map":{"version":3,"sources":["C:/Users/LY/Desktop/vc-web/redux/ducks/product/ProductReducer.js"],"names":["types","INIT_STATE","productModel","id","name","productGrade","price","data","productExterior","productInterior","productRims","productAccessories","selectedIds","state","action","type","GET_PRODUCT_MODEL_DATA","GET_PRODUCT_MODEL_DATA_SUCCESS","payload","GET_PRODUCT_MODEL_DATA_FAILURE","GET_PRODUCT_GRADES","GET_PRODUCT_GRADES_SUCCESS","GET_PRODUCT_GRADES_FAILURE","SELECTED_PRODUCT_GRADE","fields","object","find","element","selling_Price","GET_PRODUCT_GRADE_DATA","GET_PRODUCT_GRADE_DATA_SUCCESS","accessoriesIdList","populateAccessoriesIds","accessoriesData","map","item","key","exteriorData","interiorData","GET_PRODUCT_GRADE_DATA_FAILURE","SELECTED_PRODUCT_EXTERIOR","objects","SELECTED_PRODUCT_INTERIOR","SELECTED_PRODUCT_RIMS","SELECTED_PRODUCT_ACCESSORIES","newValue"],"mappings":"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","sourcesContent":["import * as types from \"./ProductTypes\"\r\n\r\nconst INIT_STATE = {\r\n  productModel: {\r\n    id: null,\r\n    name: null,\r\n  },\r\n  productGrade: {\r\n    id: null,\r\n    name: null,\r\n    price: 0,\r\n    data: { }\r\n  },\r\n  productExterior: {\r\n    id: null,\r\n    name: null,\r\n    price: 0,\r\n    data: { }\r\n  },\r\n  productInterior: {\r\n    id: null,\r\n    name: null,\r\n    price: 0,\r\n    data: { }\r\n  },\r\n  productRims: {\r\n    id: null,\r\n    name: null,\r\n    price: 0,\r\n    data: { }\r\n  },\r\n  productAccessories: {\r\n    selectedIds: { },\r\n    data: { }\r\n  }\r\n}\r\n\r\nexport default (state = INIT_STATE, action) => {\r\n  // console.log(\"redux state= \", state)\r\n  switch(action.type){\r\n    case types.GET_PRODUCT_MODEL_DATA:\r\n      return {\r\n        ...state\r\n      }\r\n\r\n    case types.GET_PRODUCT_MODEL_DATA_SUCCESS:\r\n      const { data } = action.payload\r\n      return {\r\n        ...state,\r\n        productModel: {\r\n          id: data.id,\r\n          name: data.name\r\n        }\r\n      }\r\n\r\n    case types.GET_PRODUCT_MODEL_DATA_FAILURE:\r\n      return {\r\n        ...state\r\n      }\r\n\r\n    case types.GET_PRODUCT_GRADES:\r\n      return {\r\n        ...state\r\n      }\r\n    \r\n    case types.GET_PRODUCT_GRADES_SUCCESS:\r\n      return {\r\n        ...state,\r\n        productGrade: {\r\n          ...state.productGrade,\r\n          data: action.payload.data\r\n        }\r\n      }\r\n\r\n    case types.GET_PRODUCT_GRADES_FAILURE:\r\n      return {\r\n        ...state\r\n      }\r\n    \r\n    case types.SELECTED_PRODUCT_GRADE:\r\n      var id = action.payload\r\n      var { fields } = state.productGrade.data\r\n      var object = fields.find(element => element.id === id)\r\n\r\n      return {\r\n        ...state,\r\n        productGrade: {\r\n          ...state.productGrade,\r\n          id: object.id,\r\n          name: object.name,\r\n          price: object.selling_Price,\r\n        }\r\n      }\r\n\r\n    case types.GET_PRODUCT_GRADE_DATA:\r\n      return {\r\n        ...state\r\n      }\r\n\r\n    case types.GET_PRODUCT_GRADE_DATA_SUCCESS:\r\n      let accessoriesIdList = { }\r\n      const populateAccessoriesIds = action => {\r\n        action.payload.accessoriesData.data.fields.map(item => {\r\n          Object.values(item).map(key => {\r\n            key.map(item => {\r\n              accessoriesIdList[item.id] = false\r\n            })\r\n          })\r\n        })\r\n      }\r\n      populateAccessoriesIds(action)\r\n\r\n      return {\r\n        ...state,\r\n        productExterior: {\r\n          ...state.productExterior,\r\n          data: action.payload.exteriorData.data\r\n        },\r\n        productInterior: {\r\n          ...state.productInterior,\r\n          data: action.payload.interiorData.data\r\n        },\r\n        productRims: {\r\n          ...state.productInterior,\r\n          data: action.payload.interiorData.data\r\n        },\r\n        productAccessories: {\r\n          selectedIds: accessoriesIdList,\r\n          data: action.payload.accessoriesData.data\r\n        }\r\n      }\r\n\r\n    case types.GET_PRODUCT_GRADE_DATA_FAILURE:\r\n      return {\r\n        ...state\r\n      }\r\n\r\n    case types.SELECTED_PRODUCT_EXTERIOR:\r\n      var id = action.payload\r\n      var { objects } = state.productExterior.data.fields[\"Car Colors\"]\r\n      var object = objects.find(element => element.id === id)\r\n\r\n      return {\r\n        ...state,\r\n        productExterior: {\r\n          ...state.productExterior,\r\n          id: object.id,\r\n          name: object.name,\r\n          price: object.price\r\n        }\r\n      }\r\n\r\n    case types.SELECTED_PRODUCT_INTERIOR:\r\n      var id = action.payload\r\n      var { objects } = state.productInterior.data.fields[\"Seating Fabrics\"]\r\n      var object = objects.find(element => element.id === id)\r\n\r\n      return {\r\n        ...state,\r\n        productInterior: {\r\n          ...state.productInterior,\r\n          id: object.id,\r\n          name: object.name,\r\n          price: object.price\r\n        }\r\n      }\r\n\r\n    case types.SELECTED_PRODUCT_RIMS:\r\n      var id = action.payload\r\n      var { objects } = state.productInterior.data.fields[\"Rims\"]\r\n      var object = objects.find(element => element.id === id)\r\n\r\n      return {\r\n        ...state,\r\n        productRims: {\r\n          ...state.productRims,\r\n          id: object.id,\r\n          name: object.name,\r\n          price: object.price\r\n        }\r\n      }\r\n\r\n    case types.SELECTED_PRODUCT_ACCESSORIES:\r\n      const newValue = !state.productAccessories.selectedIds[action.payload]\r\n      return {\r\n        ...state,\r\n        productAccessories: {\r\n          ...state.productAccessories,\r\n          selectedIds: {\r\n            ...state.productAccessories.selectedIds,\r\n            [action.payload]: newValue\r\n          }\r\n        }\r\n      }\r\n\r\n    default:\r\n      return {...state}\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}